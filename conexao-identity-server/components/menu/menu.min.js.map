{"version":3,"file":"components/menu/menu.min.js","mappings":"mBACA,IAAIA,EAAsB,GCD1BA,EAAoBC,EAAI,WACvB,GAA0B,iBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOC,MAAQ,IAAIC,SAAS,cAAb,GACd,MAAOC,GACR,GAAsB,iBAAXC,OAAqB,OAAOA,QALjB,G,MCAxB,IAAIC,EACAP,EAAoBC,EAAEO,gBAAeD,EAAYP,EAAoBC,EAAEQ,SAAW,IACtF,IAAIC,EAAWV,EAAoBC,EAAES,SACrC,IAAKH,GAAaG,IACbA,EAASC,gBACZJ,EAAYG,EAASC,cAAcC,MAC/BL,GAAW,CACf,IAAIM,EAAUH,EAASI,qBAAqB,UACzCD,EAAQE,SAAQR,EAAYM,EAAQA,EAAQE,OAAS,GAAGH,KAK7D,IAAKL,EAAW,MAAM,IAAIS,MAAM,yDAChCT,EAAYA,EAAUU,QAAQ,OAAQ,IAAIA,QAAQ,QAAS,IAAIA,QAAQ,YAAa,KACpFjB,EAAoBkB,EAAIX,EAAY,U,SCfpC,MAAMY,EACJC,YAAYC,EAAMC,GAChBnB,KAAKkB,KAAOA,EACZlB,KAAKmB,UAAYA,EACjBnB,KAAKoB,GAAKpB,KAAKmB,UAAUC,GACzBpB,KAAKqB,YAAcrB,KAAKmB,UAAUG,QAAQD,YACtCrB,KAAKmB,UAAUG,QAAQD,YACvB,CAAC,WAAY,YACjBrB,KAAKuB,WAAa,kBAClBvB,KAAKwB,QAAUjB,SAASkB,cAAc,kBAAkBzB,KAAKoB,QAC7DpB,KAAK0B,WAAa1B,KAAKmB,UAAUM,cAAc,8BAC/CzB,KAAK2B,QAAU3B,KAAKmB,UAAUS,iBAAiB,yBAC/C5B,KAAK6B,MAAQ7B,KAAKmB,UAAUM,cAAc,eAC1CzB,KAAK8B,iBAAmB9B,KAAKmB,UAAUS,iBAAiB,gBACxD5B,KAAK+B,eAAiB/B,KAAKmB,UAAUS,iBAAiB,cACtD5B,KAAKgC,eAGPA,eACEhC,KAAKiC,cACLjC,KAAKkC,eACLlC,KAAKmC,eACLnC,KAAKoC,wBACLpC,KAAKqC,kBACLrC,KAAKsC,WACLnC,OAAOoC,iBAAiB,UAAU,KAChCvC,KAAKsC,cAITA,WACE,MAAME,EAAWjC,SAASkB,cAAc,QAClCgB,EAAiBlC,SAASkB,cAAc,iBAChClB,SAASkB,cAAc,eACjCgB,GAAkBtC,OAAOuC,WAAa,IACxCF,EAASG,UAAUC,IAAI,QAEvBJ,EAASG,UAAUE,OAAO,QAI9BR,kBACOrC,KAAKmB,UAAUwB,UAAUG,SAAS,SAAY9C,KAAK0B,YACtD1B,KAAKmB,UACFM,cAAc,eACdkB,UAAUC,OAAO5C,KAAKqB,aAI7Be,wBAEEpC,KAAKmB,UAAUoB,iBAAiB,SAAUQ,IACxC,GACO,WADCA,EAAMC,KAEVhD,KAAKiD,gBAMPjD,KAAK6B,OACP7B,KAAK6B,MAAMU,iBAAiB,SAAS,IAC5BvC,KAAKiD,eAKlBhB,cACE,MAAMT,EAAUxB,KAAK0B,WAAa1B,KAAK0B,WAAa1B,KAAKwB,QAErDA,GACFA,EAAQe,iBAAiB,SAAS,KAE5BvC,KAAKmB,UAAUwB,UAAUG,SAAS,UACpC9C,KAAKiD,cAIPjD,KAAKkD,YACLlD,KAAKmD,wBAIT,IAAK,MAAMC,KAASpD,KAAK2B,QACvByB,EAAMb,iBAAiB,SAAS,IACvBvC,KAAKiD,eAKlBC,YACElD,KAAKmB,UAAUwB,UAAUC,IAAI,UACzB5C,KAAKmB,UAAUwB,UAAUG,SAAS,SACpC9C,KAAKmB,UAAUwB,UAAUC,OAAO5C,KAAKqB,YAAa,QAEpDrB,KAAKmB,UAAUkC,QAGjBJ,aACEjD,KAAKmB,UAAUwB,UAAUE,OAAO,UAC5B7C,KAAKmB,UAAUwB,UAAUG,SAAS,SACpC9C,KAAKmB,UAAUwB,UAAUE,UAAU7C,KAAKqB,YAAa,QAEvDrB,KAAKmD,oBAGPjB,eAEE,IAAK,MAAMoB,KAAQtD,KAAKmB,UAAUS,iBAChC,8BAGA5B,KAAKuD,YAAYD,EAAM,iBAEvBA,EAAKE,WAAWb,UAAUC,IAAI,aAE9B5C,KAAKyD,gBAAgBH,GAIzBH,oBAIE,GAAI5C,SAASmD,cAAe,CAC1B,MAAMC,EAAaC,MAAMC,UAAUC,OAAOC,KACxCxD,SAASyD,KAAKpC,iBAHhB,iIAIGqC,GAGGA,EAAQC,YAAc,GACtBD,EAAQE,aAAe,GACvBF,IAAY1D,SAASmD,gBAIrBU,EAAQT,EAAWU,QAAQ9D,SAASmD,eAC1C,GAAIU,GAAS,EAAG,EACMT,EAAWS,EAAQ,IAAMT,EAAW,IAC5CN,UAKlBlB,eAEE,IAAK,MAAMmC,KAAMtE,KAAKmB,UAAUS,iBAAiB,oBAC1C0C,EAAGd,WAAWb,UAAUG,SAAS,iBAEpC9C,KAAKuD,YAAYe,EAAGC,uBAAwB,kBAE5CD,EAAGd,WAAWb,UAAUC,IAAI,aAE5B5C,KAAKwE,gBAAgBF,EAAGC,yBAK9Bd,gBAAgBQ,GACdA,EAAQ1B,iBAAiB,SAAS,KAE5B0B,EAAQT,WAAWb,UAAUG,SAAS,UACxCmB,EAAQT,WAAWb,UAAUE,OAAO,UAKtCoB,EAAQT,WAAWb,UAAUC,IAAI,aAIrC4B,gBAAgBP,GACdA,EAAQ1B,iBAAiB,SAAS,KAQhC,GANAvC,KAAKyE,WAAWR,GAGhBjE,KAAK0E,WAAWT,EAAQT,YAGpBS,EAAQT,WAAWb,UAAUG,SAAS,UAGxC,OAFA9C,KAAK2E,eAAeV,QACpBA,EAAQZ,QAKVY,EAAQT,WAAWb,UAAUC,IAAI,UACjCqB,EAAQZ,WAIZsB,eAAeV,GACbA,EAAQT,WAAWb,UAAUE,OAAO,UAEpC,MAAM+B,EAAeX,EAAQT,WAAWqB,QAAQ,qBAC5CZ,EAAQT,WAAWqB,QAAQ,qBAC3BZ,EAAQY,QAAQ,cACpB7E,KAAK0E,WAAWE,GAGlBH,WAAWR,GACT,IAAK,MAAMX,KAAQW,EAChBY,QAAQ,cACRjD,iBAAiB,cAClB0B,EAAKwB,aAAa,SAAU,IAIhCJ,WAAWT,GACT,IAAK,MAAMX,KAAQW,EAAQrC,iBAAiB,cAC1C0B,EAAKyB,gBAAgB,UAIzBxB,YAAYU,EAASe,GACnB,MAAMC,EAAoB1E,SAAS2E,cAAc,QACjDD,EAAkBtC,UAAUC,IAAI,WAEhC,MAAMuC,EAAW5E,SAAS2E,cAAc,KACxCC,EAASxC,UAAUC,IAAI,OACvBuC,EAASxC,UAAUC,IAAIoC,GACvBG,EAASL,aAAa,cAAe,QAErCG,EAAkBG,YAAYD,GAC9BlB,EAAQmB,YAAYH,IAIxB,MAAMI,EAAW,GACjB,IAAK,MAAMC,KAAUnF,OAAOI,SAASqB,iBAAiB,YACpDyD,EAASE,KAAK,IAAIvE,EAAO,UAAWsE,K,GCvOvB,K","sources":["webpack://@govbr/dsgov/webpack/bootstrap","webpack://@govbr/dsgov/webpack/runtime/global","webpack://@govbr/dsgov/webpack/runtime/publicPath","webpack://@govbr/dsgov/./src/components/menu/menu.js","webpack://@govbr/dsgov/./src/components/menu/examples.pug"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl + \"../../\";","class BRMenu {\n  constructor(name, component) {\n    this.name = name\n    this.component = component\n    this.id = this.component.id\n    this.breakpoints = this.component.dataset.breakpoints\n      ? this.component.dataset.breakpoints\n      : ['col-sm-4', 'col-lg-3']\n    this.pushShadow = 'shadow-lg-right'\n    this.trigger = document.querySelector(`[data-target=\"#${this.id}\"]`)\n    this.contextual = this.component.querySelector('[data-toggle=\"contextual\"]')\n    this.dismiss = this.component.querySelectorAll('[data-dismiss=\"menu\"]')\n    this.scrim = this.component.querySelector('.menu-scrim')\n    this.componentFolders = this.component.querySelectorAll('.menu-folder')\n    this.componentItems = this.component.querySelectorAll('.menu-item')\n    this._setBehavior()\n  }\n\n  _setBehavior() {\n    this._toggleMenu()\n    this._setDropMenu()\n    this._setSideMenu()\n    this._setKeyboardBehaviors()\n    this._setBreakpoints()\n    this._setView()\n    window.addEventListener('resize', () => {\n      this._setView()\n    })\n  }\n\n  _setView() {\n    const template = document.querySelector('body')\n    const menuContextual = document.querySelector('.menu-trigger')\n    const panel = document.querySelector('.menu-panel')\n    if (menuContextual && window.innerWidth < 992) {\n      template.classList.add('mb-5')\n    } else {\n      template.classList.remove('mb-5')\n    }\n  }\n\n  _setBreakpoints() {\n    if (!this.component.classList.contains('push') && !this.contextual) {\n      this.component\n        .querySelector('.menu-panel')\n        .classList.add(...this.breakpoints)\n    }\n  }\n\n  _setKeyboardBehaviors() {\n    // Fechar com tecla ESC\n    this.component.addEventListener('keyup', (event) => {\n      switch (event.code) {\n        case 'Escape':\n          this._closeMenu()\n        default:\n          break\n      }\n    })\n    // Fechar com Tab fora do menu\n    if (this.scrim) {\n      this.scrim.addEventListener('keyup', () => {\n        return this._closeMenu()\n      })\n    }\n  }\n\n  _toggleMenu() {\n    const trigger = this.contextual ? this.contextual : this.trigger\n    // Clicar no trigger\n    if (trigger) {\n      trigger.addEventListener('click', () => {\n        // Fechar Menu caso esteja aberto\n        if (this.component.classList.contains('active')) {\n          this._closeMenu()\n          return\n        }\n        // Abre Menu\n        this._openMenu()\n        this._focusNextElement()\n      })\n    }\n    // Clicar no dismiss\n    for (const close of this.dismiss) {\n      close.addEventListener('click', () => {\n        return this._closeMenu()\n      })\n    }\n  }\n\n  _openMenu() {\n    this.component.classList.add('active')\n    if (this.component.classList.contains('push')) {\n      this.component.classList.add(...this.breakpoints, 'px-0')\n    }\n    this.component.focus()\n  }\n\n  _closeMenu() {\n    this.component.classList.remove('active')\n    if (this.component.classList.contains('push')) {\n      this.component.classList.remove(...this.breakpoints, 'px-0')\n    }\n    this._focusNextElement()\n  }\n\n  _setDropMenu() {\n    // Configura Drop Menu para filho imediato de \".menu-folder\"\n    for (const item of this.component.querySelectorAll(\n      '.menu-folder > a.menu-item'\n    )) {\n      // Inclui ícone de Drop Menu\n      this._createIcon(item, 'fa-angle-down')\n      // Configura como Drop Menu\n      item.parentNode.classList.add('drop-menu')\n      // Inicializa Drop Menu\n      this._toggleDropMenu(item)\n    }\n  }\n\n  _focusNextElement() {\n    //add all elements we want to include in our selection\n    const focussableElements =\n      'a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), [tabindex]:not([disabled]):not([tabindex=\"-1\"])'\n    if (document.activeElement) {\n      const focussable = Array.prototype.filter.call(\n        document.body.querySelectorAll(focussableElements),\n        (element) => {\n          //check for visibility while always include the current activeElement\n          return (\n            element.offsetWidth > 0 ||\n            element.offsetHeight > 0 ||\n            element === document.activeElement\n          )\n        }\n      )\n      const index = focussable.indexOf(document.activeElement)\n      if (index > -1) {\n        const nextElement = focussable[index + 1] || focussable[0]\n        nextElement.focus()\n      }\n    }\n  }\n\n  _setSideMenu() {\n    // Configura Side Menu para quem não for filho imediato de \".menu-folder\"\n    for (const ul of this.component.querySelectorAll('a.menu-item + ul')) {\n      if (!ul.parentNode.classList.contains('menu-folder')) {\n        // Inclui ícone de Side Menu\n        this._createIcon(ul.previousElementSibling, 'fa-angle-right')\n        // Configura como Side Menu\n        ul.parentNode.classList.add('side-menu')\n        // Inicializa Side Menu\n        this._toggleSideMenu(ul.previousElementSibling)\n      }\n    }\n  }\n\n  _toggleDropMenu(element) {\n    element.addEventListener('click', () => {\n      // Fecha Drop Menu caso esteja aberto\n      if (element.parentNode.classList.contains('active')) {\n        element.parentNode.classList.remove('active')\n        return\n      }\n\n      // Abre Drop Menu\n      element.parentNode.classList.add('active')\n    })\n  }\n\n  _toggleSideMenu(element) {\n    element.addEventListener('click', () => {\n      // Esconde todos os itens\n      this._hideItems(element)\n\n      // Mostra itens do Side Menu ativo\n      this._showItems(element.parentNode)\n\n      // Fecha Side Menu caso esteja aberto\n      if (element.parentNode.classList.contains('active')) {\n        this._closeSideMenu(element)\n        element.focus()\n        return\n      }\n\n      // Abre Side Menu\n      element.parentNode.classList.add('active')\n      element.focus()\n    })\n  }\n\n  _closeSideMenu(element) {\n    element.parentNode.classList.remove('active')\n    // Verifica se existe Side Menu anterior, caso contrário mostra todos os itens de volta\n    const parentFolder = element.parentNode.closest('.side-menu.active')\n      ? element.parentNode.closest('.side-menu.active')\n      : element.closest('.menu-body')\n    this._showItems(parentFolder)\n  }\n\n  _hideItems(element) {\n    for (const item of element\n      .closest('.menu-body')\n      .querySelectorAll('.menu-item')) {\n      item.setAttribute('hidden', '')\n    }\n  }\n\n  _showItems(element) {\n    for (const item of element.querySelectorAll('.menu-item')) {\n      item.removeAttribute('hidden')\n    }\n  }\n\n  _createIcon(element, icon) {\n    const menuIconContainer = document.createElement('span')\n    menuIconContainer.classList.add('support')\n\n    const menuIcon = document.createElement('i')\n    menuIcon.classList.add('fas')\n    menuIcon.classList.add(icon)\n    menuIcon.setAttribute('aria-hidden', 'true')\n\n    menuIconContainer.appendChild(menuIcon)\n    element.appendChild(menuIconContainer)\n  }\n}\n\nconst menuList = []\nfor (const brMenu of window.document.querySelectorAll('.br-menu')) {\n  menuList.push(new BRMenu('br-menu', brMenu))\n}\n\nexport default BRMenu\n","export default __webpack_public_path__ + \"components/menu/examples.html\";"],"names":["__webpack_require__","g","globalThis","this","Function","e","window","scriptUrl","importScripts","location","document","currentScript","src","scripts","getElementsByTagName","length","Error","replace","p","BRMenu","constructor","name","component","id","breakpoints","dataset","pushShadow","trigger","querySelector","contextual","dismiss","querySelectorAll","scrim","componentFolders","componentItems","_setBehavior","_toggleMenu","_setDropMenu","_setSideMenu","_setKeyboardBehaviors","_setBreakpoints","_setView","addEventListener","template","menuContextual","innerWidth","classList","add","remove","contains","event","code","_closeMenu","_openMenu","_focusNextElement","close","focus","item","_createIcon","parentNode","_toggleDropMenu","activeElement","focussable","Array","prototype","filter","call","body","element","offsetWidth","offsetHeight","index","indexOf","ul","previousElementSibling","_toggleSideMenu","_hideItems","_showItems","_closeSideMenu","parentFolder","closest","setAttribute","removeAttribute","icon","menuIconContainer","createElement","menuIcon","appendChild","menuList","brMenu","push"],"sourceRoot":""}